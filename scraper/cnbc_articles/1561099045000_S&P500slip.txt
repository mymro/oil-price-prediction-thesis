The S&P 500 fell slightly on Friday after reaching a fresh record high earlier in the day as Wall Street concluded a strong week of gains. The broad index ended the day down 0.1% at 2,950.46 after hitting an intraday all-time high of 2,964.15. The S&P 500 posted a record close in the previous session. The Dow Jones Industrial Average closed 34.04 points lower at 26,719.13 while the Nasdaq Composite lost 0.2% to end the day at 8,031.71. The major stock indexes jumped to their session highs after Dow Jones reported that Vice President Mike Pence would postpone a China policy address amid "positive signs" on trade. But stocks pared most of those gains after the Commerce Department barred five additional Chinese companies from buying U.S. components without approval. Chip stocks fell on the department's decision. Micron Technology shares closed 2.6% lower while Advanced Micro Devices lost 3%. Xilinx shares also dropped more than 2%. Despite Friday's choppy trading action, stocks posted weekly gains as investors cheered the prospects of the Federal Reserve cutting interest rates as soon as July. The Dow and S&P 500 both rose more than 2% for the week, while the Nasdaq climbed 3%. With this week's gains, the S&P 500 is 17.7% for the year and was on track to post its best first half since 1997. The Fed said Wednesday it is ready to keep the current economic expansion going as trade tensions and weaker data dampen the U.S. economic outlook. The central bank also dropped the word "patient" from its monetary policy statement, which was released Wednesday. This led investors to price in a 100% probability of a rate cut next month and bolstered equity prices this week.   "The biggest takeaway from this week is the power central banks still have to move markets, regardless of the reason," said Quincy Krosby, chief market strategist at Prudential Financial. "You go back to Jan. 4 with the Fed 'pivot' and you saw the market go up from the 2018 lows in dramatic fashion. Fast forward, the Fed verbally intervened in the market before this week's meeting, suggesting they would be prepared to lower rates if the economy didn't improve." Right now, "the market is applauding this message" from the Fed, Krosby said. The central bank's announcement sent ripples across financial markets. The benchmark 10-year yield broke below 2% for the first time since November 2016. Gold prices hit their highest level since 2013. Crude prices also surged this week as tensions between the U.S. and Iran increased after a drone was shot down over Iranian airspace. President Donald Trump reacted to the incident by saying Iran made a "very big mistake." U.S. oil rose 0.6% to $57.43 per barrel on Friday and surged more than 9% for the week. This week's moves came as investors braced for a meeting between President Donald Trump and Chinese President Xi Jinping at next week's G-20 summit in Japan. The two leaders are expected to discuss the ongoing trade war between China and the U.S. "Right now, what the market is celebrating is more easing from central banks," said Lindsey Bell, investment strategist at CFRA Research. "The market is also banking on good trade news out of the G-20 next week. I think the market could be setting itself up for failure in the near term." "If expectations are for talks to resume, that's one thing. But if the expectations are for significant progress or indications they may be close to a deal, I think there will be major disappointment," Bell said. â€” CNBC's Spriha Srivastava and Sam Meredith contributed to this report. 