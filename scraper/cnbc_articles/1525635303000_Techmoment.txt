Friday's tech rally may have set up stocks for more gains in the week ahead, although the market could be tugged at by geopolitical concerns, like trade war talk and Iran. Technology was up 2 percent Friday and 3.2 percent for the week in its first positive week in three. Apple led the charge, bouncing to a record high after Warren Buffett revealed to CNBC that he bought 75 million shares in the first quarter. The bellwether tech name had been a disappointing laggard at the start of the week but after an earnings beat, a bigger stock buyback program and the Buffett news, Apple closed the week at $183.83, up 13.3 percent in its best week since October 2011. "A big strong day could pave the way for a strong week," said Scott Redler, partner with T3Live.com. "The broad-based rally could lead to a strong week. I think this was a big turning point." Redler said stocks such as Amazon and Netflix, both of which closed up by more than $8 on Friday, showed new signs of returning momentum. He said the test for Apple will be if it can stay above the low $180s, a range it has failed to hold multiple times. "The Buffett news wasn't sold. It was bought. The problem with the market has been good news has been sold, not bought. This was the first day where you had a few reasons to buy the market and they couldn't sell it," said Redler. "What's important with Apple is you see a value tech name that was able to break out. We haven't been able to get a healthy breakout since the earnings season started." Art Hogan, chief market strategist at B. Riley FBR, said the momentum in Apple could continue since the company now has a bigger share buyback program to keep it going. "They've got tailwinds nobody expected. When Apple does well, the supply chain does well," he said. Buffett meets with shareholders over the weekend at the Berkshire Hathaway annual meeting, and strategists expect more bullish headlines. As for the stock market, Hogan said the , which successfully retested its 200-day moving average Thursday, is now hovering below the 100-day. The moving averages are important markers watched by traders for price momentum. The S&P 500 was down 0.2 percent for the week at 2,663. "Next week, we'll think about inflation and be concerned about geopolitical events. We're sort of in no man's land in terms of S&P 500 support and resistance. We're sort of in between," he said. "We enter next week in good shape on the technicals, and we'll just see how the world shakes out geopolitically." The consumer price index is reported Thursday, and there is an expected headline print of 2.5 percent, well above the Fed's target. That could help support higher interest rates, and keep the debate going over whether the Fed will raise interest rates a total of three times, as it has predicted, or even more. PPI, producer price index, is due on Wednesday. There could also be a big focus on the Middle East, and Iran in particular as President Donald Trump decides whether to extend the Iran nuclear deal or end it. "Iran is a tough one, and the energy market is telling us it's getting tougher. You're seeing a significant bid that hasn't dissipated in the energy complex. That's a concern here. There isn't an easy way out of this. Both the administration and Iran are digging in their heels," Hogan said. The Trump administration has put a deadline of May 12 on its decision on Iran. The agreement with Iran was made by the Obama administration, the five members of the U.N. Security Council and Germany. Trump has repeatedly threatened to abandon it, but if the U.S. drops out, it does not mean the others will and the U.S. could then be in a position where it could have to resume sanctions against Iran alone. The market will also have to navigate other things that worry it. In the coming week, Trump administration officials will be just back from China and that could put trade issues back on the front burner, as the officials seemed to have little progress to report. "My guess is they're going to say they've begun a dialogue and talks will continue," said Greg Valliere, chief global strategist at Horizon Investments. "I'm sure they'll try to be diplomatic, but there really were no breakthroughs that I'm aware of in these talks. ... It's going to take much longer than people think to resolve this." Both Iran and trade could hang over the market, said Ed Keon, chief investment strategist with QMA. "If you look at the news flow, trade has clearly had an effect on the market, and I think most market participants are probably rooting to keep the Iran deal in place because the markets tend to prefer the status quo," he said. There are also about 40 S&P 500 companies reporting earnings in the week ahead, as the earnings season winds down. Some of the names reporting include Nvidia and Disney. Earnings growth this quarter is running at more than 25 percent, according to Thomson Reuters. "When we write the story of 2018, it's going to be earnings growth of 20 percent, and that's what's going to have driven the stock market higher and the bond market lower," said Keon. Monday Earnings: Tyson Foods, Sysco, Sempra Energy, Zillow, Hertz Global, International Flavors and Fragrances, Cognizant Technologies, Gannett, AMC Entertainment, Mosaic 2:00 p.m. Senior loan officer survey 3:00 p.m. Consumer credit 3:30 p.m. Atlanta Fed conference Tuesday Earnings: Disney, Marriott, Monster Beverage, Petrobras, Electronic Arts, Wendy's, Etsy, Sturm Roger, TripAdvisor, Valeant Pharma, Discovery, Dean Foods, Camping World, Occidental Petroleum, Dish Network, Martin Marietta Materials 6:00 a.m. NFIB survey 10:00 a.m. JOLTS Wednesday Earnings: A-B InBev, Toyota, Cinemark, Liberty Media, Hostess Brands, 21st Century Fox, Delphi Automotive, Softbank, Pershing Square, Siemens, Roku, Sunrun, ZTO Express, Booking Holdings, Party City, Office Depot, Liberty Broadband 8:30 a.m. PPI 10:00 a.m. Wholesale trade 1:15 p.m. Atlanta Fed President Raphael Bostic Thursday Earnings: Nvidia, News Corp, Symantec, Dropbox, Best Inc, BT Group, AMC, Owens and Minor, Brookfield Asset Management, Duke Energy, Triumph Group, Redfin 8:30 a.m. Initial jobless claims 8:30 a.m. CPI 2:00 p.m. Federal budget Friday Earnings: Arcelor Mittal, Thomson Reuters, Nippon Telegraph 8:15 a.m. St. Louis Fed President James Bullard 8:30 a.m. Import prices 10:00 a.m. Consumer sentiment Correction: Netflix and Amazon rose by more than $8 on Friday.