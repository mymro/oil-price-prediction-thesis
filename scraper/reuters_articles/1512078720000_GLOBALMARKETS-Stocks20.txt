(Updates to U.S. market close) * Dow breaks above 24,000 mark as U.S. tax bill wins support * Oil volatile as producers agree on extension of supply caps * Global stocks index up for record 13th straight month * U.S. data cements view of Fed rate hike next month By Rodrigo Campos NEW YORK, Nov 30 (Reuters) - Sharp gains in the United States drove stocks higher despite a rout in emerging markets, while crude oil prices ended up in a volatile session as oil producers agreed on an extension to their supply cap deal until the end of 2018. The U.S. dollar fell against the euro and other major currencies except the yen, despite U.S. data that showed a rise in inflation and a decline in initial jobless claims. The data reinforced already strong bets that the Federal Reserve will raise rates next month and several more times in 2018. Chances of passage of a Senate tax overhaul bill rose with the endorsement of Senator John McCain. U.S. stocks had opened higher as Wednesday’s selloff in technology and other high-flying stocks reversed. The tax bill proposal, expected to reduce corporate taxes, is seen by most analysts as a boon to the stock market. “It’s anticipation of the tax bill getting through, and (the market) took another leg up when McCain said he was not going to oppose it,” said Bucky Hellwig, senior vice president at BB&T Wealth Management in Birmingham, Alabama. “We have seen ‘no’ votes flipping to the ‘yes’ column, so that makes the passage of the bill more certain but also moves it up on the calendar. The rush is on right now to get that cranked out, and investors are saying (they’re) ready to buy into that,” he said. The Dow Jones Industrial Average rose 331.67 points, or 1.39 percent, to 24,272.35, the S&P 500 gained 21.51 points, or 0.82 percent, to 2,647.58 and the Nasdaq Composite added 49.63 points, or 0.73 percent, to 6,873.97. The Dow closed above 24,000 for the first time. The S&P and the small-cap Russell 2000 also set record closing highs. The pan-European FTSEurofirst 300 index lost 0.46 percent and MSCI’s gauge of stocks across the globe gained 0.26 percent. The global equity gauge posted its 13th straight monthly gain – the longest monthly winning streak in the index’s 30-year history. The total gain over the 13 months nears 23 percent. Emerging market stocks lost 1.80 percent, the most for any day in over six months. Brazil’s benchmark equities index lost 1.0 percent as traders focused on uneven progress of a pension reform bill seen by some as key to shoring up the nation’s finances. MSCI’s broadest index of Asia-Pacific shares outside Japan closed 1.56 percent lower. U.S. Treasury yields rose after the upbeat U.S. data. Jim Vogel, interest rates strategist at FTN Financial in Memphis, said the market was focused on inflation. “A lot of people have moved their forecasts to four rate hikes next year, from three. But the people who are skeptical about the four hikes in 2018 and who saw the data this morning may be thinking that is not totally out of bounds,” he said. Benchmark 10-year notes last fell 12/32 in price to yield 2.4168 percent, from 2.376 percent late on Wednesday. The 30-year bond last fell 11/32 in price to yield 2.8339 percent, from 2.817 percent late on Wednesday. Yields ended off session highs as some market participants doubted the efficacy of the current tax cut proposal in terms of powering the U.S. economy. “This (tax bill) doesn’t change the fact that whatever economic scenario you saw playing out is still likely what’s going to play out,” said Aaron Kohli, interest rates strategist at BMO Capital Markets. The dollar index fell 0.18 percent, with the euro up 0.5 percent to $1.1906. The Japanese yen weakened 0.59 percent versus the greenback at 112.59 per dollar, while Sterling was last trading at $1.3532, up 0.94 percent on the day. Crude oil prices were volatile after OPEC members agreed to extend curbs on output to the end of next year, though a final deal hinges on the decision of non-OPEC producers. However, some analysts say the nine-month extension was already priced in. “Because they’re going to be meeting again in a few months, we’re just going to be doing this again,” said John Macaluso analyst at Tyche Capital Advisors in New York. U.S. crude rose 0.16 percent to $57.39 per barrel and Brent was last at $62.67, up 0.22 percent on the day. Spot gold dropped 0.7 percent to $1,274.46 an ounce. U.S. gold futures fell 0.61 percent to $1,274.30 an ounce. Copper rose 0.16 percent to $6,770.50 a tonne.